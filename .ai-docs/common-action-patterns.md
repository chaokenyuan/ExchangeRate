# 公共行動模式 (Common Action Patterns)

## 概述

公共行動模式定義所有技術角色都必須遵循的標準工作流程，確保團隊協作的一致性和品質。每個角色在執行任務時都應遵循此三階段流程。

## 🔄 三階段工作流程

### 1️⃣ 制定計畫 (Planning Phase)

**目標**: 明確理解任務需求，制定詳細執行計劃

**執行步驟**:
```yaml
phase: "planning"
duration: "15-30% of total task time"
mandatory_actions:
  - 需求分析與理解
  - 任務拆解與優先級排序
  - 風險識別與預防措施
  - 資源需求評估
  - 時間估算與里程碑設定
  - 依賴關係分析

deliverables:
  - 詳細任務計劃
  - 風險評估報告
  - 時程安排
  - 成功標準定義
```

**計劃模板**:
```markdown
## 任務計劃 - {任務名稱}

### 任務背景
- **需求來源**: {需求來源}
- **業務價值**: {業務價值說明}
- **緊急程度**: {High/Medium/Low}

### 任務拆解
1. {子任務1} - 預估時間: {時間}
2. {子任務2} - 預估時間: {時間}
3. {子任務3} - 預估時間: {時間}

### 技術方案
- **採用技術**: {技術清單}
- **架構設計**: {簡要說明}
- **實現方式**: {實現策略}

### 風險評估
| 風險項目 | 影響程度 | 發生機率 | 應對措施 |
|---------|----------|----------|----------|
| {風險1} | {High/Medium/Low} | {機率%} | {應對方案} |

### 驗收標準
- [ ] {驗收條件1}
- [ ] {驗收條件2}
- [ ] {驗收條件3}

### 時程安排
- **開始時間**: {開始時間}
- **預計完成**: {預計完成時間}
- **關鍵里程碑**: {里程碑清單}
```

### 2️⃣ 執行計畫 (Execution Phase)

**目標**: 按照計劃高效執行任務，並持續追蹤進度

**執行原則**:
```yaml
phase: "execution"
duration: "60-70% of total task time"
core_principles:
  - 嚴格遵循技術棧約束
  - 持續更新進度狀態
  - 主動溝通阻礙問題
  - 保持代碼品質標準
  - 及時記錄重要決策

progress_tracking:
  - 每日進度更新
  - 里程碑達成確認
  - 問題記錄與解決
  - 變更管理追蹤

quality_gates:
  - 代碼規範檢查
  - 單元測試通過
  - 功能驗證完成
  - 文檔同步更新
```

**執行檢查清單**:
```markdown
## 執行進度檢查

### 日常檢查項目
- [ ] 遵循Spring Boot最佳實踐
- [ ] 代碼通過靜態檢查
- [ ] 單元測試覆蓋率達標
- [ ] 功能符合驗收條件
- [ ] 文檔保持同步

### 品質關卡
- [ ] 代碼審查通過
- [ ] 整合測試通過
- [ ] 安全檢查通過
- [ ] 性能指標達標

### 協作確認
- [ ] 與相關角色同步進度
- [ ] 重要決策已記錄
- [ ] 變更影響已評估
```

### 3️⃣ 執行報告 (Reporting Phase)

**目標**: 總結執行結果，提供完整的交付報告

**報告內容**:
```yaml
phase: "reporting"
duration: "10-15% of total task time"
report_sections:
  - 任務完成總結
  - 技術實現說明
  - 測試結果報告
  - 問題解決記錄
  - 經驗教訓總結
  - 後續建議事項

quality_metrics:
  - 功能完成度
  - 代碼品質指標
  - 測試覆蓋率
  - 性能基準數據
  - 安全檢查結果
```

**報告模板**:
```markdown
# 執行報告 - {任務名稱}

## 📊 完成總結
- **任務狀態**: {已完成/部分完成/延期}
- **完成度**: {百分比}
- **實際耗時**: {實際時間} vs 預估: {預估時間}
- **品質評級**: {A/B/C/D}

## 🔧 技術實現
### 採用技術
- Spring Boot版本: {版本}
- 主要依賴: {依賴清單}
- 架構模式: {架構說明}

### 關鍵實現
1. **{功能1}**: {實現說明}
2. **{功能2}**: {實現說明}
3. **{功能3}**: {實現說明}

## 🧪 測試結果
- **單元測試**: {通過率}% ({通過數}/{總數})
- **整合測試**: {通過率}% ({通過數}/{總數})
- **BDD測試**: {通過率}% ({通過數}/{總數})
- **代碼覆蓋率**: {覆蓋率}%

## 🐛 問題與解決
| 問題描述 | 影響級別 | 解決方案 | 狀態 |
|---------|----------|----------|------|
| {問題1} | {High/Medium/Low} | {解決方案} | {已解決/進行中} |

## 📝 經驗教訓
### 成功經驗
- {成功經驗1}
- {成功經驗2}

### 改進建議
- {改進建議1}
- {改進建議2}

## 🔮 後續行動
- [ ] {後續任務1}
- [ ] {後續任務2}
- [ ] {技術債務處理}

## 📎 交付產出
- [ ] 功能代碼 - {位置}
- [ ] 測試代碼 - {位置}
- [ ] 技術文檔 - {位置}
- [ ] 部署指南 - {位置}
```

## 🔄 工作流程整合

### 角色間協作
```yaml
collaboration_points:
  planning_phase:
    - SA提供需求分析
    - SD提供設計方案
    - 架構師評估技術方案
  
  execution_phase:
    - 開發員實作功能
    - QA編寫並執行測試
    - 代碼審查員進行審查
  
  reporting_phase:
    - 各角色提交執行報告
    - SA確認需求滿足度
    - 架構師評估技術債務
```

### 品質檢查點
```yaml
quality_checkpoints:
  planning_review:
    - 計劃完整性檢查
    - 技術方案可行性評估
    - 風險評估合理性確認
  
  execution_review:
    - 代碼品質檢查
    - 功能正確性驗證
    - 測試覆蓋率確認
  
  delivery_review:
    - 交付完整性檢查
    - 文檔同步性確認
    - 後續維護計劃評估
```

## 📋 標準化工具

### 計劃工具
- **任務管理**: GitHub Issues/Jira
- **時間估算**: 故事點/T-shirt sizing
- **風險評估**: 風險矩陣
- **架構設計**: Draw.io/Mermaid

### 執行工具
- **代碼管理**: Git + GitHub
- **品質檢查**: SonarQube/SpotBugs
- **測試執行**: Maven + JUnit + Cucumber
- **進度追蹤**: 燃燒圖/看板

### 報告工具
- **測試報告**: Cucumber HTML Report
- **代碼覆蓋**: JaCoCo
- **性能分析**: Spring Boot Actuator
- **文檔生成**: Swagger/OpenAPI

---

**重要提醒**: 所有角色都必須遵循此公共行動模式，這是確保專案成功的基礎流程。